<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>

	<meta http-equiv="content-type" content="text/html;charset=utf-8">

	<link rel="stylesheet" type="text/css" href="tutorial.css">

	<script type="text/javascript" src="syntaxhighlighter/shCore.js"></script>
	<script type="text/javascript" src="syntaxhighlighter/shBrushJScript.js"></script>
	<link rel="stylesheet" type="text/css" href="syntaxhighlighter/shCore.css">
	<link rel="stylesheet" type="text/css" href="syntaxhighlighter/shThemeDefault.css">
	
	<script type="text/javascript" src="../src/core.js"></script>
	<script type="text/javascript" src="../src/treenode.js"></script>
	<script type="text/javascript" src="../src/treelayout.js"></script>
	<script type="text/javascript" src="../src/treeviewer.js"></script>
	<script type="text/javascript" src="../src/drawstyle.js"></script>
	<script type="text/javascript" src="../src/svgdrawer.js"></script>
	<script type="text/javascript" src="../src/canvasdrawer.js"></script>

	<title>TreeViewer tutorial</title>

	<script type="text/javascript">
		var treeData = {
			text : 'animal',
			children : [
				{
					text : 'mammal',
					children : [
						{
							text : 'feline',
							children : [
								{text : 'lion'},
								{text : 'tiger'}
							]
						},
						{text : 'monkey'}
					]
				},
				{
					text : 'reptile',
					children : [
						{text : 'snake'},
						{text : 'turtle'}
					]
				},
				{
					text : 'insect',
					children : [
						{text : 'snake'}
					]
				}
			]
		};
		
		function Example1 ()
		{
			var canvas = document.getElementById ('example1');
			var style = new TV.DrawStyle ();
			var drawer = new TV.CanvasDrawer (canvas, style);
			var viewer = new TV.TreeViewer (drawer);
			viewer.LoadData (treeData);
			viewer.Update ();
		}
	
		function Example2 ()
		{
			var canvas = document.getElementById ('example2');
			var style = new TV.DrawStyle ({
				fontSize : 12,
				fontFamily : 'Arial',
				lineWidth : 1,
				textColorNoChildren : '#008800',
				textColorWithChildren : '#880000',
				rectColorNoChildren : '#00cc00',
				rectColorWithChildren : '#cc0000',
				nodeColorNoChildren : '#eeffee',
				nodeColorWithChildren : '#ffeeee',
				lineColor : '#0000cc'			
			});
			var drawer = new TV.CanvasDrawer (canvas, style);
			var viewer = new TV.TreeViewer (drawer);
			viewer.LoadData (treeData);
			viewer.Update ();
		}

		function Load ()
		{
			SyntaxHighlighter.highlight ();
			Example1 ();
			Example2 ();
		}
	
	    window.onload = function ()
		{
			Load ();			
		}
	</script>

</head>

<body>
	<div id="frame">
		<div class="title1">TreeViewer tutorial</div>
		<p>
			TreeViewer is a simple tree visualization library. It allows you to explore a tree structure:
			<ul>
				<li>Offset the tree vertically and horizontally.</li>
				<li>Zoom in and out to specific points of the tree.</li>
				<li>Expand and collapse tree nodes.</li>
				<li>Draw to canvas or svg.</li>
			</ul>
		</p>
		<canvas id="example1" width="800" height="400"></canvas>

		<div class="title2">Basic usage</div>
		<p>
			First of all, you need to download TreeViewer, and include it to your project.
<pre class="brush: js; toolbar: false;">
<script type="text/javascript" src="treeviewer.js"></script>	
</pre>
			Next, you need the data you would like to visualize. The data should be in the below format.
			This example used almost everywhere in this tutorial.
<pre class="brush: js; toolbar: false;">
var treeData = {
	text : 'animal',
	children : [
		{
			text : 'mammal',
			children : [
				{
					text : 'feline',
					children : [
						{text : 'lion'},
						{text : 'tiger'}
					]
				},
				{text : 'monkey'}
			]
		},
		{
			text : 'reptile',
			children : [
				{text : 'snake'},
				{text : 'turtle'}
			]
		},
		{
			text : 'insect',
			children : [
				{text : 'snake'}
			]
		}
	]
};
</pre>
			Almost there. We need a canvas element to draw to.
<pre class="brush: js; toolbar: false;">
<canvas id="example1" width="800" height="300"></canvas>
</pre>
			Finally, you need to initialize the viewer. The most easy way is to do the following when the page is loaded.
<pre class="brush: js; toolbar: false;">
var canvas = document.getElementById ('example1');
var style = new TV.DrawStyle (); // draw with default settings
var drawer = new TV.CanvasDrawer (canvas, style); // we draw on a canvas
var viewer = new TV.TreeViewer (drawer); // initialize viewer
viewer.LoadData (treeData); // load the previously defined data
viewer.Update (); // update the canvas
</pre>
		</p>
		
		<p>This will generate the above tree.</p>

		<div class="title2">Set colors</div>
		<p>
			If you would like to modify the colors of the tree, you can fill the DrawStyle structure with the desired values.
			So with the below code you can generate a very ugly tree.
		</p>
<pre class="brush: js; toolbar: false;">
var style = new TV.DrawStyle ({
	fontSize : 12,
	fontFamily : 'Arial',
	lineWidth : 1,
	textColorNoChildren : '#008800',
	textColorWithChildren : '#880000',
	rectColorNoChildren : '#00cc00',
	rectColorWithChildren : '#cc0000',
	nodeColorNoChildren : '#eeffee',
	nodeColorWithChildren : '#ffeeee',
	lineColor : '#0000cc'			
});
</pre>
		<canvas id="example2" width="800" height="400"></canvas>
	</div>
</body>

</html>
